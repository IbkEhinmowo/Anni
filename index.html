<!-- @format -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Our Story - Anniversary</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-content">
        <div class="hero-countdown">
          <div class="countdown-display">
            <div class="countdown-item">
              <span id="days-counter">0</span>
              <span class="countdown-unit">days</span>
            </div>
            <div class="countdown-item">
              <span id="hours-counter">0</span>
              <span class="countdown-unit">hours</span>
            </div>
            <div class="countdown-item">
              <span id="minutes-counter">0</span>
              <span class="countdown-unit">minutes</span>
            </div>
            <div class="countdown-item">
              <span id="seconds-counter">0</span>
              <span class="countdown-unit">seconds</span>
            </div>
          </div>
          <span class="counter-label">until our special day</span>
        </div>

        <h1 class="hero-title">
          <span class="hero-line">Two Hearts,</span>
          <span class="hero-line">One Story</span>
        </h1>
        <p class="hero-subtitle">Happy Anniversary</p>
        <div class="hero-date">
          <div class="date-line"></div>
          <span>Since July 23rd 2024</span>
          <div class="date-line"></div>
        </div>
      </div>
      <div class="hero-scroll">
        <div class="scroll-indicator"></div>
      </div>
    </section>

    <!-- Slideshow Gallery Section -->
    <section id="gallery" class="gallery">
      <div class="container">
        <div class="section-header">
          <h2>Our Time Well Spent</h2>
          <p>A curated collection of memories</p>
        </div>

        <!-- Slideshow Container -->
        <div class="slideshow-container">
          <div class="slideshow-wrapper">
            <img id="slideshow-image" src="" alt="Our memories" />
            <div class="image-overlay">
              <div class="image-info">
                <span class="image-counter" id="image-counter">1 / 1</span>
                <span class="image-title" id="image-title">Loading...</span>
              </div>
            </div>
          </div>

          <!-- Navigation Controls -->
          <div class="slideshow-controls">
            <button class="control-btn prev" id="prev-btn">‹</button>
            <button class="control-btn next" id="next-btn">›</button>
          </div>

          <!-- Dots Indicator -->
          <div class="slideshow-dots" id="slideshow-dots">
            <!-- Dots will be generated by JavaScript -->
          </div>
        </div>
      </div>
    </section>

    <!-- Timeline Section -->

    <!-- Message Section -->
    <section id="message" class="message">
      <div class="container">
        <div class="message-content">
          <div class="message-quote">"</div>
          <div class="message-text">
            <p>
              Pookie means a lot to me and I'm glad to be called your Boyfriend
            </p>
            <p>
              Thank you for being my partner, my best friend, and i hope we get
              to celebrate many more years
            </p>
          </div>
          <div class="message-signature">
            <div class="signature-line"></div>
            <span>Forever yours</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-text">Made with love</div>
          <div class="footer-year">2025</div>
        </div>
      </div>
    </footer>

    <script>
      // Slideshow functionality
      class PhotoSlideshow {
        constructor() {
          this.photos = [];
          this.currentIndex = 0;
          this.init();
        }

        async init() {
          await this.loadPhotos();
          this.setupEventListeners();
          if (this.photos.length > 0) {
            this.showImage(0);
            this.createDots();
          }
        }

        async loadPhotos() {
          // Common image extensions
          const extensions = ["jpg", "jpeg", "png", "gif", "webp"];

          // Try to load images from 1.jpg to 20.jpg (you can adjust the range)
          for (let i = 1; i <= 20; i++) {
            for (const ext of extensions) {
              const imagePath = `photos/${i}.${ext}`;
              if (await this.imageExists(imagePath)) {
                this.photos.push({
                  src: imagePath,
                  title: `Memory ${i}`,
                  alt: `Photo ${i}`,
                });
                break; // Found image with this number, move to next
              }
            }
          }

          // If no numbered images found, try common names
          if (this.photos.length === 0) {
            const commonNames = [
              "photo1",
              "photo2",
              "photo3",
              "image1",
              "image2",
              "image3",
            ];
            for (const name of commonNames) {
              for (const ext of extensions) {
                const imagePath = `photos/${name}.${ext}`;
                if (await this.imageExists(imagePath)) {
                  this.photos.push({
                    src: imagePath,
                    title: name.charAt(0).toUpperCase() + name.slice(1),
                    alt: name,
                  });
                  break;
                }
              }
            }
          }

          // Fallback if no images found
          if (this.photos.length === 0) {
            this.photos = [
              {
                src: "https://via.placeholder.com/800x600/f88c9e/ffffff?text=Add+Photos+to+/photos+folder",
                title: "Add your photos to the /photos folder",
                alt: "Placeholder",
              },
            ];
          }
        }

        imageExists(src) {
          return new Promise((resolve) => {
            const img = new Image();
            img.onload = () => resolve(true);
            img.onerror = () => resolve(false);
            img.src = src;
          });
        }

        setupEventListeners() {
          const prevBtn = document.getElementById("prev-btn");
          const nextBtn = document.getElementById("next-btn");

          prevBtn.addEventListener("click", () => this.previousImage());
          nextBtn.addEventListener("click", () => this.nextImage());

          // Keyboard navigation
          document.addEventListener("keydown", (e) => {
            if (e.key === "ArrowLeft") this.previousImage();
            if (e.key === "ArrowRight") this.nextImage();
          });

          // Click to advance
          const slideImage = document.getElementById("slideshow-image");
          slideImage.addEventListener("click", () => this.nextImage());
        }

        showImage(index) {
          if (this.photos.length === 0) return;

          this.currentIndex = index;
          const photo = this.photos[index];

          const imageEl = document.getElementById("slideshow-image");
          const counterEl = document.getElementById("image-counter");
          const titleEl = document.getElementById("image-title");

          imageEl.src = photo.src;
          imageEl.alt = photo.alt;
          counterEl.textContent = `${index + 1} / ${this.photos.length}`;
          titleEl.textContent = photo.title;

          this.updateDots();
        }

        nextImage() {
          const nextIndex = (this.currentIndex + 1) % this.photos.length;
          this.showImage(nextIndex);
        }

        previousImage() {
          const prevIndex =
            (this.currentIndex - 1 + this.photos.length) % this.photos.length;
          this.showImage(prevIndex);
        }

        createDots() {
          const dotsContainer = document.getElementById("slideshow-dots");
          dotsContainer.innerHTML = "";

          this.photos.forEach((_, index) => {
            const dot = document.createElement("span");
            dot.className = "dot";
            dot.addEventListener("click", () => this.showImage(index));
            dotsContainer.appendChild(dot);
          });
        }

        updateDots() {
          const dots = document.querySelectorAll(".dot");
          dots.forEach((dot, index) => {
            dot.classList.toggle("active", index === this.currentIndex);
          });
        }
      }

      // Initialize slideshow when page loads
      document.addEventListener("DOMContentLoaded", () => {
        new PhotoSlideshow();
      });

      // Detailed countdown to July 23rd
      function updateDetailedCounter() {
        // Set the target date to July 23rd, 2025 at midnight
        const targetDate = new Date("July 23, 2025 00:00:00").getTime();
        const now = new Date().getTime();
        const timeLeft = targetDate - now;

        if (timeLeft > 0) {
          // Calculate time units
          const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
          const hours = Math.floor(
            (timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
          );
          const minutes = Math.floor(
            (timeLeft % (1000 * 60 * 60)) / (1000 * 60)
          );
          const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

          // Update the display
          document.getElementById("days-counter").textContent = days;
          document.getElementById("hours-counter").textContent = String(
            hours
          ).padStart(2, "0");
          document.getElementById("minutes-counter").textContent = String(
            minutes
          ).padStart(2, "0");
          document.getElementById("seconds-counter").textContent = String(
            seconds
          ).padStart(2, "0");
        } else {
          // Time has passed
          document.getElementById("days-counter").textContent = "0";
          document.getElementById("hours-counter").textContent = "00";
          document.getElementById("minutes-counter").textContent = "00";
          document.getElementById("seconds-counter").textContent = "00";

          // Change the label
          document.querySelector(".counter-label").textContent =
            "our special day is here! 🎉";
        }
      }

      // Update counter every second
      updateDetailedCounter();
      setInterval(updateDetailedCounter, 1000);
    </script>
  </body>
</html>
